# 数值

更多函数可阅读 https://www.cnblogs.com/interdrp/p/16333722.html

#### 数值解析

按照索引解析文本中的数值  
**语法**：`数值解析('文本','索引')`    
**类型**：

| 类型	 | 说明	   | 示例       |
|-----|-------|----------|
| num | 普通数值	 | 100, 200 |
| rb  | 圆括号		 | (+10)    |
| sb  | 方括号		 | [+10]    |
| cb  | 大括号		 | \{+10\}  |
| ab  | 角括号		 | <+10>    |
| bm  | 书名号		 | 【+10】    |

索引格式：类型+序号 例：

- num3 表示第三个普通数值
- rb1 表示第一个圆括号内的数值
- sb2 表示第二个方括号内的数值

```javascript
数值解析('攻击力: 100-200 (+50)', 'num1') // 返回：100
数值解析('攻击力: 100-200 (+50)', 'num2') // 返回：200
数值解析('攻击力: 100-200 (+50)', 'rb1')  // 返回：50
```

#### 数值操作

按照指定的操作语句，对文本中的数值进行运算

**语法**：`数值操作('文本','操作语句','操作语句2'...)`

**操作语句格式**：索引 = 运算公式    
其中，n 表示索引获取到的数值，常见的操作语句如下：

- num1=n*1.25：将第一个普通数值 num1 乘以 1.25
- rb1=n*1.25：将第一个圆括号内的数值 rb1 乘以 1.25

```javascript
// 操作圆括号内数值 结果：攻击力: 100-200 (+62.5)
数值操作('攻击力: 100-200 (+50)', 'rb1=n*1.25')
// 同时操作 num1,num2,rb1 结果：攻击力: 125-250 (+62.5)
数值操作('攻击力: 100-200 (+50)', 'num1=n*1.25', 'num2=n*1.25', 'rb1=n*1.25')
```

#### 随机数值

**语法**：`random()`

```javascript
random(10, 100) // 返回：任意10到100之间的值，例如：56
random(100)     // 返回：任意0到100之间的值，例如：42
random()        // 返回：任意0到1.0之间的值，例如：0.723
```

### 四舍五入

**语法**：`round(value)`  
**功能**：对数值进行标准四舍五入，返回最近的整数。

```javascript
round(100.7) // 返回：101
round(100.4) // 返回：100
```

### 保留小数

**语法**：`scale(value, n)`  
**功能**：将数值保留到指定的小数位，并四舍五入。

```javascript
scale(100.756, 2) // 返回：100.76
scale(100.754, 2) // 返回：100.75
```

### 向上取整

**语法**：`ceil(value)`

```javascript
ceil(100.7) // 返回：101
ceil(100.0) // 返回：100
```

### 向下取整

**语法**：`floor(value)`

```javascript
floor(100.7) // 返回：100
floor(100.0) // 返回：100
```

### 取最大值

**语法**：`max(x1, x2, x3, ...)`  
**功能**：返回一组数值中的最大值。

```javascript
max(100, 200, 300) // 返回：300
```

### 取最小值

**语法**：`min(x1, x2, x3, ...)`  
**功能**：返回一组数值中的最小值。

```javascript
min(100, 200, 300) // 返回：100
```

### 转数值类型

**语法**：`int('文本')`  
**功能**：将其它类型数据转为数值

```javascript
int('') // 返回：0
int('129.1') // 返回：129
int(10.4) // 返回：10
int(10.9) // 返回：10
int(true) // 返回：1
int(false) // 返回：0
```
