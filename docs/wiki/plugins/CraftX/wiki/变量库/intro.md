# 变量库

可用于功能配置、物品处理，以及制定玩法逻辑规则

## 键值处理

#### 文本赋值

```yaml
entry:
  条件提示: "§e升级黄金战令"
  结束日期: "%variable_task_战令积分-重置%"
```

#### 嵌套表达式

格式：`${表达式}`

```yaml
entry:
  随机数值: "§7生命上限: §f${random(4)+1}"
  黄金战令条件: "${变量模块.get('黄金战令')==1}"
```

#### 嵌套 Entry

格式：`{变量}`，需按赋值顺序调用

```yaml
entry:
  生命上限-1: 209
  生命上限-2: 239
  生命上限-3: 269
  生命上限-4: 299
  生命上限: "§7生命上限: §f{生命上限-${random(4)+1}}"
```

#### 脚本逻辑

- [官方文档](https://www.yuque.com/boyan-avfmj/aviatorscript)
- [博客介绍](https://www.cnblogs.com/kaleidoscope/p/13132315.html)

可编写 AviatorScript 逻辑，动态返回所需值。

```yaml
entry:
  副词条1: |-
    if({副词条数}<1){
      return '@hide';
    }
    return '§副{' + string.split('{副词条库}','-')[0] +'}'; 
```

## 变量调用

变量库、物品库、功能配置中均可使用 `{}` 格式调用变量

#### 变量库示例

```yaml 
entry:
  战令积分: "%variable_info_战令积分%"
  积分条件提示: "§7战令积分不足，§f所需 §f{战令积分} 积分"
```

#### 物品库示例

```yaml
血月之戒:
  Id: 420
  Display: '&c&l血月之戒'
  Lore:
    - '{主词条}'
    - '§8§m───────────────'
    - '§6副词条:'
    - '{副词条1}'
    - '{副词条2}'
    - '{副词条3}'
    - '{副词条4}'
    - '§8§m───────────────'
    - '§7血月套装'
```
